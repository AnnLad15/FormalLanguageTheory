from Lab2.NFA import NFA


def create_nfa():
    nfa_states = {'q0', 'q1', 'q2', 'q3', 'q4', 'q5', 'q6', 'q7', 'q8', 'q9', 'q10', 'q11', 'q12', 'q13', 'q14', 'q15',
                  'q16', 'q17', 'q18', 'q19', 'q20', 'q21', 'q22', 'q23', 'q24', 'q25', 'q26', 'q27', 'q28', 'q29',
                  'q30',
                  'q31', 'q32', 'q33', 'q34'}
    nfa_input_symbols = {'a', 'b'}
    nfa_initial_state = 'q0'
    nfa_final_states = {'q21', 'q22', 'q26', 'q34'}
    nfa_transitions = {
        'q0': {
            'a': {'q1', 'q9'},
            'b': {'q4', 'q15'}
        },
        'q1': {
            'a': {'q1', 'q2', },
            'b': {}
        },
        'q2': {
            'a': {},
            'b': {'q3'}
        },

        'q3': {
            'a': {'q1', 'q9'},
            'b': {'q4', 'q15'}
        },
        'q4': {
            'a': {},
            'b': {'q5'}
        },
        'q5': {
            'a': {'q6'},
            'b': {}
        },

        'q6': {
            'a': {},
            'b': {'q7'}
        },
        'q7': {
            'a': {},
            'b': {'q8'}
        },
        'q8': {
            'a': {'q1', 'q9'},
            'b': {'q4', 'q15'}
        },

        'q9': {
            'a': {},
            'b': {'q10'}
        },
        'q10': {
            'a': {'q11'},
            'b': {'q10'}
        },
        'q11': {
            'a': {},
            'b': {'q12'}
        },

        'q12': {
            'a': {'q13'},
            'b': {}
        },
        'q13': {
            'a': {},
            'b': {'q14'}
        },
        'q14': {
            'a': {'q1', 'q9'},
            'b': {'q4', 'q15'}
        },
        'q15': {
            'a': {'q16'},
            'b': {}
        },
        'q16': {
            'a': {},
            'b': {'q17'}
        },
        'q17': {
            'a': {'q18'},
            'b': {}
        },
        'q18': {
            'a': {'q19'},
            'b': {'q20'}
        },
        'q19': {
            'a': {'q21'},
            'b': {'q22'}
        },
        'q20': {
            'a': {'q21'},
            'b': {'q22'}
        },
        'q21': {
            'a': {'q23', 'q25'},
            'b': {'q27'}
        },
        'q22': {
            'a': {'q23', 'q25'},
            'b': {'q27'}
        },
        'q23': {
            'a': {'q24'},
            'b': {}
        },

        'q24': {
            'a': {'q23', 'q25'},
            'b': {}
        },
        'q25': {
            'a': {},
            'b': {'q26'}
        },
        'q26': {
            'a': {'q25', 'q23'},
            'b': {'q27'}
        },
        'q27': {
            'a': {'q28'},
            'b': {}
        },
        'q28': {
            'a': {},
            'b': {'q29'}
        },
        'q29': {
            'a': {'q30'},
            'b': {'q29'}
        },
        'q30': {
            'a': {'q31'},
            'b': {}
        },
        'q31': {
            'a': {},
            'b': {'q32'}
        },

        'q32': {
            'a': {'q33'},
            'b': {}
        },
        'q33': {
            'a': {},
            'b': {'q34'}
        },
        'q34': {
            'a': {'q23', 'q25'},
            'b': {'q27'}
        }
    }

    nfa = NFA(nfa_states, nfa_input_symbols, nfa_transitions, nfa_initial_state, nfa_final_states)
    return nfa


