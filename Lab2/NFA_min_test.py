from Lab2.NFA import NFA


def create_nfa():
    nfa_states = {'q0', 'q1', 'q2', 'q4', 'q5', 'q6', 'q9', 'q10', 'q11', 'q12', 'q15',
                  'q16', 'q17', 'q18', 'q19', 'q21', 'q23', 'q24', 'q25', 'q27', 'q28', 'q29',
                  'q30', 'q31', 'q32'}
    nfa_input_symbols = {'a', 'b'}
    nfa_initial_state = 'q0'
    nfa_final_states = {'q21'}
    nfa_transitions = {
        'q0': {
            'a': {'q1', 'q9'},
            'b': {'q4', 'q15'}
        },
        'q1': {
            'a': {'q1', 'q2', },
            'b': {}
        },
        'q2': {
            'a': {},
            'b': {'q0'}
        },

        'q4': {
            'a': {},
            'b': {'q5'}
        },
        'q5': {
            'a': {'q6'},
            'b': {}
        },

        'q6': {
            'a': {},
            'b': {'q2'}
        },

        'q9': {
            'a': {},
            'b': {'q10'}
        },
        'q10': {
            'a': {'q11'},
            'b': {'q10'}
        },
        'q11': {
            'a': {},
            'b': {'q12'}
        },

        'q12': {
            'a': {'q2'},
            'b': {}
        },

        'q15': {
            'a': {'q16'},
            'b': {}
        },
        'q16': {
            'a': {},
            'b': {'q17'}
        },
        'q17': {
            'a': {'q18'},
            'b': {}
        },
        'q18': {
            'a': {'q19'},
            'b': {'q19'}
        },
        'q19': {
            'a': {'q21'},
            'b': {'q21'}
        },

        'q21': {
            'a': {'q23'},
            'b': {'q27'}
        },

        'q23': {
            'a': {'q24'},
            'b': {'q21'}
        },

        'q24': {
            'a': {'q23'},
            'b': {}
        },
        'q25': {
            'a': {},
            'b': {'q21'}
        },

        'q27': {
            'a': {'q28'},
            'b': {}
        },
        'q28': {
            'a': {},
            'b': {'q29'}
        },
        'q29': {
            'a': {'q30'},
            'b': {'q29'}
        },
        'q30': {
            'a': {'q31'},
            'b': {}
        },
        'q31': {
            'a': {},
            'b': {'q32'}
        },

        'q32': {
            'a': {'q25'},
            'b': {}
        }
    }

    nfa = NFA(nfa_states, nfa_input_symbols, nfa_transitions, nfa_initial_state, nfa_final_states)
    return nfa


