# AFA_test.py
from Lab2.AFA import AFA


def create_afa():
    states = {'q1', 'q2', 'q3', 'q4', 'q5', 'q6', 'q7', 'q8',
              'q9', 'q10', 'q11', 'q12', 'q13', 'q14', 'q15',
              'q16', 'q17', 'q18', 'q19',
              'q20', 'q21', 'q22', 'q23', 'q24',
              'p1', 'p2', 'p3', 'p4', 'p5', 'p6', 'p7'}
    input_symbols = {'a', 'b'}
    transitions = {
        's': {'epsilon': [{'q15', 'p1'}]},

        'q1': {'a': [{'q6'}], 'b': [{'q16'}]},
        'q2': {'a': [{'q1'}], 'b': [{'q1'}]},
        'q3': {'b': [{'q1'}]},
        'q4': {'a': [{'q2'}], 'b': [{'q2'}]},
        'q5': {'a': [{'q3'}]},
        'q6': {'a': [{'q9'}], 'b': [{'q1'}]},
        'q7': {'b': [{'q5'}]},
        'q8': {'a': [{'q4'}]},
        'q9': {'a': [{'q6'}]},
        'q10': {'a': [{'q7'}]},
        'q11': {'b': [{'q8'}]},
        'q12': {'a': [{'q10'}], 'b': [{'q12'}]},
        'q13': {'a': [{'q11'}], 'b': [{'q23'}]},
        'q14': {'b': [{'q12'}]},
        'q15': {'a': [{'q22'}], 'b': [{'q13'}]},
        'q16': {'a': [{'q14'}]},
        'q17': {'b': [{'q15'}]},
        'q18': {'a': [{'q17'}]},
        'q19': {'a': [{'q19'}], 'b': [{'q15'}]},
        'q20': {'b': [{'q17'}]},
        'q21': {'b': [{'q18'}]},
        'q22': {'a': [{'q19'}], 'b': [{'q24'}]},
        'q23': {'a': [{'q20'}]},
        'q24': {'a': [{'q21'}], 'b': [{'q24'}]},

        'p1': {'a': [{'p2'}], 'b': [{'p2'}]},
        'p2': {'a': [{'p3'}], 'b': [{'p3'}]},
        'p3': {'a': [{'p4'}], 'b': [{'p4'}]},
        'p4': {'a': [{'p5'}], 'b': [{'p5'}]},
        'p5': {'a': [{'p6'}], 'b': [{'p6'}]},
        'p6': {'a': [{'p7'}], 'b': [{'p7'}]},
        'p7': {'a': [{'p7'}], 'b': [{'p7'}]}

    }
    initial_state = 's'
    final_states = {'q1', 'p7'}

    afa = AFA(states, input_symbols, transitions, initial_state, final_states)
    return afa
